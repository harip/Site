(this["webpackJsonphp-profile"]=this["webpackJsonphp-profile"]||[]).push([[4],{283:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n(0),c=n.n(r),i=n(21),s=n.n(i),o=n(30),u=n(201),l=n(266),j=n(12),d=n(252),b=n(264),p=n(253),m=n(265),f=n(33),x=n(279),O=function(t){var e=t.post,n=Object(r.useState)(e.content),c=Object(j.a)(n,2),i=c[0],s=c[1];return Object(a.jsx)(x.a,{apiKey:"wefhnu0ma6zh07117uwxwjj5ila4m1d1y16pp4e59wbc6log",initialValue:i,init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code codesample image"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify |  bullist numlist outdent indent | removeformat | codesample | image | code"},onEditorChange:function(t,n){s(t),e.newContent=t}})},h=n(281),g=n(251),v=n(274),y=n.n(v),w=n(275),k=n.n(w),C=n(269),S=n(39),N=n(276),B=n.n(N),_=n(113),T=Object(u.a)((function(t){return{root:{margin:10,display:"flex",justifyContent:"center",alignContent:"center",flexWrap:"wrap",listStyle:"none",padding:t.spacing(.5)},contactHeader:{fontSize:20,borderBottom:2,background:"#ffa602"},card:{marginRight:5,marginBottom:5},cardActions:{borderTop:"solid 1px #f9f5ee"},crudButtons:{marginLeft:"auto"},wrapper:{margin:t.spacing(1),position:"relative"},commentBox:{width:"100%"}}})),I=function(t){var e,n=Object(r.useContext)(S.b),i=T(),s=Object(r.useState)(t.item.title),o=Object(j.a)(s,2),u=o[0],l=o[1],x=Object(r.useState)(!0),v=Object(j.a)(x,2),w=v[0],N=v[1],I=c.a.useState(!0),A=Object(j.a)(I,2),F=A[0],H=(A[1],c.a.useState(!1)),L=Object(j.a)(H,2),P=L[0],R=L[1],z=Object(r.useState)(""),E=Object(j.a)(z,2),W=E[0],D=E[1],J=Object(r.useState)(!1),M=Object(j.a)(J,2),K=M[0],V=M[1],q=t.savePost,G=t.saveComment,Q=function(t){return Object(a.jsx)("div",{children:w?Object(a.jsx)(f.a,{children:t.title}):Object(a.jsx)(C.a,{autoFocus:!0,margin:"dense",id:"postTitle",label:"title",type:"text",fullWidth:!0,value:u,onChange:U})})},U=function(t){l(t.target.value)},X=function(){N(!1)},Y=function(){V(!0);var e={text:W};t.item._id&&(e._id=t.item._id),G(e,(function(){V(!1)}))},Z=function(t){D(t.target.value)},$=function(){return n.isLoggedIn()?Object(a.jsx)(h.a,{color:"primary","aria-label":"outlined primary button group",className:i.crudButtons,children:w?Object(a.jsx)(g.a,{"aria-label":"edit",onClick:X,children:Object(a.jsx)(y.a,{})}):Object(a.jsx)(g.a,{"aria-label":"save",onClick:function(){return function(){var e={title:u,content:t.item.newContent,token:n.token};t.item._id&&(e._id=t.item._id),N(!0),q(t.item,e,(function(t){t&&N(!0)}))}()},color:"primary",children:Object(a.jsx)(k.a,{})})}):null};return Object(a.jsx)(c.a.Fragment,{children:(e=t.item,Object(a.jsx)("div",{className:i.wrapper,disabled:F,children:Object(a.jsx)("div",{className:i.card,children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(b.a,{className:i.contactHeader,title:Q(e),action:$()}),Object(a.jsx)(p.a,{children:Object(a.jsx)("div",{id:"container",children:Object(a.jsx)(c.a.Fragment,{children:w?Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:t.item.content}}):Object(a.jsx)(O,{post:t.item})})})}),Object(a.jsxs)(m.a,{disableSpacing:!0,className:i.cardActions,children:[Object(a.jsx)(g.a,{"aria-label":"add comment",onClick:function(){return R(!P)},children:Object(a.jsx)(B.a,{})}),Object(a.jsx)(C.a,{id:"standard-multiline-flexible",label:"add comment",className:i.commentBox,multiline:!0,rowsMax:4,value:W,onChange:Z}),Object(a.jsx)(_.a,{buttonProps:{text:"Save",onClick:Y,loading:K}})]})]})})}))},t.item.timeStamp)},A=n(22),F=n(53),H={posts:null,error:!1,retry:function(){}},L=c.a.createContext(H),P=function(t){var e=t.children,n=Object(r.useState)(H),c=Object(j.a)(n,2),i=c[0],u=c[1];function l(){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(s.a.mark((function t(){var e,n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,n=!1,t.prev=2,t.next=5,F.a.get("/post");case 5:a=t.sent,e=a.data,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n=!0;case 12:u(Object(A.a)(Object(A.a)({},i),{},{posts:e,error:n,retry:b}));case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}Object(r.useEffect)((function(){l()}),[]);var b=function(){return l()};return Object(a.jsx)(L.Provider,{value:i,children:e})},R=L,z=function(){var t=Object(o.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.a.put("/post",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(o.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.a.patch("/post",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=z,D=n(282),J=n(203),M=n(277),K=n.n(M),V=n(278),q=n.n(V),G=Object(u.a)((function(t){return{post:{marginTop:30},postBody:{height:118,marginTop:-8,width:"100%"},postTitle:{height:50,background:"#ffa602"},retry:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"lighter",textAlign:"center"},sadIcon:{fontSize:"40px"},button:{margin:t.spacing(1)}}})),Q=function(t){var e=t.responseData,n=t.retry,r=G(),c=function(){return n()},i=function(t){return 1===t&&e&&e.error?Object(a.jsxs)("div",{className:r.retry,onClick:c,children:[Object(a.jsx)(f.a,{variant:"label",children:"Something went wrong "}),Object(a.jsx)("br",{}),Object(a.jsx)(K.a,{className:r.sadIcon}),Object(a.jsx)("br",{}),Object(a.jsx)(J.a,{variant:"contained",color:"primary",className:r.button,endIcon:Object(a.jsx)(q.a,{}),children:"Retry"})]}):Object(a.jsx)(D.a,{variant:"rect",className:r.postBody})};return Object(a.jsx)(l.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[1,2,3].map((function(t){return Object(a.jsxs)(l.a,{item:!0,xs:12,sm:9,className:r.post,children:[Object(a.jsx)(D.a,{variant:"text",className:r.postTitle}),i(t)]},t)}))})},U=Object(u.a)((function(t){return{card:{marginRight:5,marginBottom:5},post:{marginTop:30}}})),X=function(t){var e=Object(r.useContext)(R),n=U();Object(r.useEffect)((function(){document.title="Blog"}),[]);if(!e||e&&e.error||e&&!e.posts)return Object(a.jsx)(Q,{responseData:e,retry:function(){return e.retry()}});var c=e.posts,i=function(){var t=Object(o.a)(s.a.mark((function t(e,n,a){var r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(n);case 2:r=t.sent,c=r.success,a(c),c&&!0===c&&(e.title=n.title,e.content=n.content);case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),u=function(){var t=Object(o.a)(s.a.mark((function t(e,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:t.sent,n();case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(a.jsx)(l.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:c.map((function(t){return Object(a.jsx)(l.a,{item:!0,xs:12,sm:9,className:n.post,children:Object(a.jsx)(I,{item:t,savePost:i,saveComment:u},t._id)},t._id)}))})};e.default=function(){return Object(r.useContext)(R)?Object(a.jsx)(P,{children:Object(a.jsx)(X,{})}):Object(a.jsx)("div",{children:"Loading..."})}}}]);
//# sourceMappingURL=4.85b34938.chunk.js.map