(this["webpackJsonphp-profile"]=this["webpackJsonphp-profile"]||[]).push([[4],{279:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n(0),i=n.n(r),c=n(21),s=n.n(c),o=n(30),u=n(242),l=n(265),j=n(12),d=n(249),p=n(263),b=n(250),m=n(264),f=n(33),O=n(275),h=function(t){var e=t.post,n=Object(r.useState)(e.content),i=Object(j.a)(n,2),c=i[0],s=i[1];return Object(a.jsx)(O.a,{apiKey:"wefhnu0ma6zh07117uwxwjj5ila4m1d1y16pp4e59wbc6log",initialValue:c,init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code codesample image"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify |  bullist numlist outdent indent | removeformat | codesample | image"},onEditorChange:function(t,n){s(t),e.newContent=t}})},x=n(277),g=n(248),v=n(273),w=n.n(v),y=n(274),k=n.n(y),C=n(268),S=n(260),N=n(39),B=Object(u.a)((function(t){return{root:{margin:10,display:"flex",justifyContent:"center",alignContent:"center",flexWrap:"wrap",listStyle:"none",padding:t.spacing(.5)},contactHeader:{fontSize:20,borderBottom:2,background:"#ffa602"},card:{marginRight:5,marginBottom:5},crudButtons:{marginLeft:"auto"},wrapper:{margin:t.spacing(1),position:"relative"}}})),T=function(t){var e,n=Object(r.useContext)(N.b),c=B(),s=Object(r.useState)(t.item.title),o=Object(j.a)(s,2),u=o[0],l=o[1],O=Object(r.useState)(!0),v=Object(j.a)(O,2),y=v[0],T=v[1],_=i.a.useState(!0),P=Object(j.a)(_,2),I=P[0],L=(P[1],t.savePost),z=function(t){return Object(a.jsx)("div",{children:y?Object(a.jsx)(f.a,{children:t.title}):Object(a.jsx)(C.a,{autoFocus:!0,margin:"dense",id:"postTitle",label:"title",type:"text",fullWidth:!0,value:u,onChange:E})})},E=function(t){l(t.target.value)},F=function(){T(!1)},H=function(){return n.isLoggedIn()?Object(a.jsx)(x.a,{color:"primary","aria-label":"outlined primary button group",className:c.crudButtons,children:y?Object(a.jsx)(g.a,{"aria-label":"edit",onClick:F,children:Object(a.jsx)(w.a,{})}):Object(a.jsx)(g.a,{"aria-label":"save",onClick:function(){return function(){var e={title:u,content:t.item.newContent,token:n.token};t.item._id&&(e._id=t.item._id),T(!0),L(t.item,e,(function(t){t&&T(!0)}))}()},color:"primary",children:Object(a.jsx)(k.a,{})})}):null};return Object(a.jsx)(i.a.Fragment,{children:(e=t.item,Object(a.jsxs)("div",{className:c.wrapper,disabled:I,children:[Object(a.jsx)("div",{className:c.card,children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(p.a,{className:c.contactHeader,title:z(e),action:H()}),Object(a.jsx)(b.a,{children:Object(a.jsx)("div",{id:"container",children:Object(a.jsx)(i.a.Fragment,{children:y?Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:t.item.content}}):Object(a.jsx)(h,{post:t.item})})})}),Object(a.jsx)(m.a,{disableSpacing:!0})]})}),I&&Object(a.jsx)(S.a,{size:24,className:c.buttonProgress})]}))},t.item.timeStamp)},_=n(51),P=i.a.createContext({posts:null}),I=function(t){var e=t.children,n=Object(r.useState)(null),i=Object(j.a)(n,2),c=i[0],u=i[1];return Object(r.useEffect)((function(){function t(){return(t=Object(o.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("/post");case 2:e=t.sent,n={posts:e.data},u(n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(a.jsx)(P.Provider,{value:c,children:e})},L=P,z=function(){var t=Object(o.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.put("/post",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=n(278),F=Object(u.a)((function(t){return{post:{marginTop:30},postBody:{height:118,marginTop:-8},postTitle:{height:50,background:"#ffa602"}}})),H=function(){var t=F();return Object(a.jsx)(l.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[1,2,3].map((function(e){return Object(a.jsxs)(l.a,{item:!0,xs:12,sm:9,className:t.post,children:[Object(a.jsx)(E.a,{variant:"text",className:t.postTitle}),Object(a.jsx)(E.a,{variant:"rect",className:t.postBody})]},e)}))})},J=Object(u.a)((function(t){return{card:{marginRight:5,marginBottom:5},post:{marginTop:30}}})),R=function(t){var e=Object(r.useContext)(L),n=J();if(Object(r.useEffect)((function(){document.title="Add Posts"}),[]),!e)return Object(a.jsx)(H,{});var i=e.posts,c=function(){var t=Object(o.a)(s.a.mark((function t(e,n,a){var r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(n);case 2:r=t.sent,i=r.success,a(i),i&&!0===i&&(e.title=n.title,e.content=n.content);case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}();return Object(a.jsx)(l.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:i.map((function(t){return Object(a.jsx)(l.a,{item:!0,xs:12,sm:9,className:n.post,children:Object(a.jsx)(T,{item:t,savePost:c},t._id)},t._id)}))})};e.default=function(){return Object(r.useContext)(L)?Object(a.jsx)(I,{children:Object(a.jsx)(R,{})}):Object(a.jsx)("div",{children:"Loading..."})}}}]);
//# sourceMappingURL=4.31c15683.chunk.js.map